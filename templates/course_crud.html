{% extends "base_admin.html" %}

{% block base_admin %}
<title>Course CRUD</title>

<table cellpadding="20">
        <tr>
            <td width="1200"><h3>Welcome, {{username}}</h3></td>
            <td><h3><a href="/logout">Logout</a></h3></td>
        </tr>
    </table>
    <hr size="3px" style="color:red;">

    <h2>Courses Crud Operation</h2>

        {% if msg %}
        <h3>{{msg}}</h3> <br>
        {% endif %}

        {% if course_search_flag %}
        <div class="container">
        <form action="/admin/course_by_name" method="POST">
            Enter Keyword: <input type="text" name="cname" required><br><br>
            <input type="submit" class="btn btn-primary" value="Find Course">
            <a href="/admin/course/save" class="btn btn-primary">Add Course</a>
        </form>

        </div>
        {% endif %}


        {% if course_add_flag %}
        <br>
        <form action="/admin/course/save" method="post">
            Course Id : <input type="text" value="{{course.id}}" name="cid"> <br><br>
            Course Name : <input type="text" value="{{course.name}}" name="cname"> <br><br>
            Course Fees : <input type="text" value="{{course.fees}}" name="fees"> <br><br>
            Course Duration (Days) : <input type="text" value="{{course.duration}}" name="duration"> <br><br>
            <input type="submit" class="btn btn-success" value="Add/Update Course">
        </form>
        {% endif %}
        <hr>


    <h4>{{found}}</h4>
    {% if named_courses %}
    <table border="1" cellpadding="5px">
        <thead>
                <th>Course Id</th>
                <th>Course Name</th>
                <th>Course Fees</th>
                <th>Course Duration (Days)</th>
                <th>Action</th>
        </thead>
        <tbody>
                {% for cor in named_courses %}
                <tr>
                    <td>{{cor.id}}</td>
                    <td>{{cor.name}}</td>
                    <td>{{cor.fees}}</td>
                    <td>{{cor.duration}}</td>
                    <td>
                       <a href="/admin/course/edit/{{cor.id}}">Edit </a>/
                        <a href="/admin/course/delete/{{cor.id}}">Delete</a>
                    </td>
                </tr>
                {% endfor %}

        </tbody>
    </table>
    <br><br>
    {% endif %}



    <br>
    <h4>All Available Courses</h4>
    <table border="1" cellpadding="5px">

        <thead>
                <th>Course Id</th>
                <th>Course Name</th>
                <th>Course Fees</th>
                <th>Course Duration (Days)</th>
                <th>Action</th>
        </thead>
        <tbody>
                {% for cor in courses %}
                <tr>
                    <td>{{cor.id}}</td>
                    <td>{{cor.name}}</td>
                    <td>{{cor.fees}}</td>
                    <td>{{cor.duration}}</td>
                    <td>
                       <a href="/admin/course/edit/{{cor.id}}">Edit </a>/
                        <a href="/admin/course/delete/{{cor.id}}">Delete</a>
                    </td>
                </tr>
                {% endfor %}

        </tbody>
    </table>

{% endblock %}